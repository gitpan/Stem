# Copyright 2000 by Stem Systems, Inc. All rights reserved.

# If you have this software as part of the prototype release, you are
# not allowed to distribute any copies to anyone. This software is not
# to shown to anyone else without prior permission from Stem Systems.

use strict ;

package Stem::File ;

my $attr_spec = [

	{
		'name'		=> 'path',
		'required'	=> 1,
		'help'		=> <<HELP,
This is just the path to the file. Given Unix conventions, the path
may include the full file name from the root.  It's required.
HELP
	},

	{
		'name'		=> 'mode',
		'default'	=> 'read',
		'help'		=> <<HELP,
Can be read (default), write, or read/write.  Indicates how the file
is to be opened using Unix conventions.
HELP
	},

] ;


sub new {

	my( $class ) = shift ;

	my $self = Stem::Class::parse_args( $attr_spec, @_ ) ;
	return $self unless ref $self ;

	return $self ;
}


sub msg_in {

	my( $self, $msg ) = @_ ;

	my $type = $msg->type() ;

#print $msg->dump( 'switch' ) ;

	if ( $type eq 'cmd' ) {

		$self->cmd_in( $msg ) ;
		return ;
	}
}


sub read {

	my( $self, $read_size_wanted ) = @_ ;


}

sub read_line {

	my( $self, $read_size_wanted ) = @_ ;

	$self->{'handle'}->readline() ;
}

sub write {

	my( $self, $write_data ) = @_ ;

	$self->{'handle'}->write( $write_data ) ;
}

sub close {

	my( $self ) = @_ ;

	$self->{'handle'}->close() ;

	delete( $self->{'handle'} ) ;
}

1 ;
