# Copyright 2000 by Stem Systems, Inc. All rights reserved.

# If you have this software as part of the prototype release, you are
# not allowed to distribute any copies to anyone. This software is not
# to shown to anyone else without prior permission from Stem Systems.

use strict ;

package Stem::Hub ;

use Carp ;
use Sys::Hostname ;

use Stem::Socket ;
use Stem::Vars ;

$Stem::Vars::Hub_name = 'None' ;
$Stem::Vars::Program_name = $0 ;
$Stem::Vars::Host_name = hostname() ;

Stem::Route::register_class( __PACKAGE__, 'hub' ) ;

my $attr_spec = [

	{
		'name'		=> 'reg_name',
		'help'		=> <<HELP,
The registration name is used to name this Hub.
HELP
	},

] ;


sub new {

	my( $class ) = shift ;

	my $self = Stem::Class::parse_args( $attr_spec, @_ ) ;
	return $self unless ref $self ;

	$Stem::Vars::Hub_name = $Env{ 'hub_name' } ||
				$self->{ 'reg_name' } ||
				$Stem::Vars::Program_name ;

#print "hub name is '$Stem::Vars::Hub_name'\n" ;

###########################
###########################
# add code to open hub log 
# 
###########################
###########################

	return ;
}

sub status_cmd {

	return <<STATUS ;

	Hub Status

Name:		$Stem::Vars::Hub_name
Host:		$Stem::Vars::Host_name
Program:	$Stem::Vars::Program_name

STATUS

}

1 ;
